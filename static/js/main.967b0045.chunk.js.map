{"version":3,"sources":["svg/bysykkel-logo.svg","svg/bike.svg","PieChart.tsx","types.ts","LineChart.tsx","utils.ts","App.tsx","reportWebVitals.js","index.js"],"names":["PieChart","props","pies","Object","entries","years","map","year","label","id","value","className","data","margin","top","right","bottom","left","innerRadius","padAngle","cornerRadius","activeOuterRadiusOffset","colors","scheme","borderWidth","borderColor","from","modifiers","arcLinkLabelsSkipAngle","arcLinkLabelsTextColor","arcLinkLabelsThickness","arcLinkLabelsColor","arcLabelsTextColor","isInteractive","legends","norwegianMonths","LineChart","allYearsWithMonths","color","month","x","y","monthsData","forEach","monthData","find","yearString","m","monthName","trips","getAllMonthsInYearArray","xScale","type","yScale","min","max","stacked","reverse","yFormat","curve","axisTop","axisRight","lineWidth","axisBottom","orient","tickSize","tickPadding","tickRotation","legend","legendOffset","legendPosition","axisLeft","enableGridX","enableGridY","enablePoints","pointSize","pointColor","theme","pointBorderWidth","pointBorderColor","pointLabelYOffset","areaOpacity","anchor","direction","justify","translateX","translateY","itemsSpacing","itemDirection","itemWidth","itemHeight","itemOpacity","symbolSize","symbolShape","symbolBorderColor","addTripToSimpleDictionary","dictionary","key","entryYear","buildDataStructure","months","stations","detailedMonthsData","trip","date","Date","_tripStarted","getFullYear","toString","getMonth","mmyyyy","startStation","_startStation","_title","endStation","_endStation","monthNumber","addTripToDetailedMonthsDataDictionary","simpleDictionaryToSortedArray","dict","sort","numberOfTrips1","App","numberOfTrips","length","monthsSortedDescendingTrips","stationsSortedDescendingTrips","src","logo","alt","toLowerCase","bike","slice","numberOfTripsPerMonth","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.967b0045.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/bysykkel-logo.95909212.svg\";","export default __webpack_public_path__ + \"static/media/bike.25010c39.svg\";","import './App.css';\nimport React from 'react';\nimport {ResponsivePie} from '@nivo/pie'\n\ninterface Props {\n    years: { [key: string]: number };\n}\n\ninterface PieData {\n    id: string;\n    value: number;\n    label: string;\n}\n\nconst PieChart = (props: Props) => {\n    const pies = Object.entries(props.years).map(([year, numberOfTrips]) => {\n            const piePart: PieData =\n                {\n                    label: year,\n                    id: year,\n                    value: numberOfTrips\n                }\n            return piePart;\n        }\n    )\n    return (\n        <div className=\"pie-element\">\n            <ResponsivePie\n                data={pies}\n                margin={{top: 40, right: 80, bottom: 80, left: 80}}\n                innerRadius={0.5}\n                padAngle={0.7}\n                cornerRadius={3}\n                activeOuterRadiusOffset={8}\n                colors={{scheme: 'red_yellow_green'}}\n                borderWidth={1}\n                borderColor={{from: 'color', modifiers: [['darker', 0]]}}\n                arcLinkLabelsSkipAngle={10}\n                arcLinkLabelsTextColor=\"#333333\"\n                arcLinkLabelsThickness={2}\n                arcLinkLabelsColor={{from: 'color'}}\n                arcLabelsTextColor={{from: 'color', modifiers: [['darker', 2]]}}\n                isInteractive={true}\n                legends={[]}\n            />\n        </div>\n    )\n}\n\n\nexport default PieChart;\n","export const norwegianMonths =\n    [\"Januar\", \"Februar\", \"Mars\", \"April\", \"Mai\", \"Juni\", \"Juli\", \"August\", \"September\", \"Oktober\", \"November\", \"Desember\"];\n\nexport interface DetailedMonthData {\n    monthNumber: number;\n    monthName: string;\n    year: number;\n    trips: number;\n    date: Date;\n    yearString: string;\n}","import './App.css';\nimport React from 'react';\nimport {ResponsiveLine} from '@nivo/line';\nimport {DetailedMonthData, norwegianMonths} from \"./types\";\n\ninterface Props {\n    years: { [key: string]: number };\n    monthsData: { [key: string]: DetailedMonthData }\n}\n\ninterface LineChartDataYear {\n    id: string; // Year\n    color: string; // Not used?\n    data: LineChartDataMonth[]\n}\n\ninterface LineChartDataMonth {\n    x: string; // Month\n    y: number; // Trips\n}\n\nconst LineChart = (props: Props) => {\n\n    function getAllMonthsInYearArray() {\n\n\n        let allYearsWithMonths: LineChartDataYear[] = Object.entries(props.years).map(([year, _]) => {\n                let emptyMonths: LineChartDataMonth[] = norwegianMonths.map(month => {\n                        return {x: month, y: 0}\n                    }\n                )\n                return {\n                    id: year,\n                    color: \"red\",\n                    data: emptyMonths\n                }\n\n            }\n        )\n\n        Object.entries(props.monthsData).forEach(([monthKey, monthData]) => {\n                let year = allYearsWithMonths.find(y => y.id == monthData.yearString);\n                if (year) {\n                    let month = year.data.find(m => m.x == monthData.monthName)\n                    if (month) {\n                        month.y = monthData.trips;\n                    }\n                }\n            }\n        )\n\n        return allYearsWithMonths\n    }\n\n    return (<div className=\"line-chart-element\">\n        <ResponsiveLine\n            data={getAllMonthsInYearArray()}\n            margin={{top: 50, right: 110, bottom: 50, left: 60}}\n            xScale={{type: 'point'}}\n            yScale={{type: 'linear', min: 'auto', max: 'auto', stacked: false, reverse: false}}\n            yFormat=\" >-.2f\"\n            curve=\"basis\"\n            axisTop={null}\n            axisRight={null}\n            lineWidth={6}\n            axisBottom={{\n                orient: 'bottom',\n                tickSize: 4,\n                tickPadding: 4,\n                tickRotation: 0,\n                legend: '',\n                legendOffset: -60,\n                legendPosition: 'middle'\n            }}\n            axisLeft={{\n                orient: 'left',\n                tickSize: 5,\n                tickPadding: 5,\n                tickRotation: 0,\n                legend: 'Antall turer',\n                legendOffset: -40,\n                legendPosition: 'middle'\n            }}\n            enableGridX={false}\n            enableGridY={false}\n            colors={{scheme: \"red_yellow_green\"}}\n            enablePoints={false}\n            pointSize={10}\n            pointColor={{theme: 'background'}}\n            pointBorderWidth={2}\n            pointBorderColor={{from: 'serieColor', modifiers: []}}\n            pointLabelYOffset={-12}\n            areaOpacity={0.15}\n            isInteractive={true}\n            legends={[{\n                anchor: 'bottom-right',\n                direction: 'column',\n                justify: false,\n                translateX: 100,\n                translateY: 0,\n                itemsSpacing: 0,\n                itemDirection: 'left-to-right',\n                itemWidth: 80,\n                itemHeight: 20,\n                itemOpacity: 0.75,\n                symbolSize: 12,\n                symbolShape: 'circle',\n                symbolBorderColor: 'rgba(0, 0, 0, .5)',\n            }]}\n        />\n    </div>);\n}\n\n\nexport default LineChart;","import {DetailedMonthData, norwegianMonths} from \"./types\";\nimport data from \"./trips.json\";\n\nexport function addTripToSimpleDictionary(dictionary: { [key: string]: number }, key: string | number) {\n    const entryYear = dictionary[key];\n    if (entryYear) {\n        dictionary[key] = entryYear + 1;\n    } else {\n        dictionary[key] = 1;\n    }\n}\n\nexport function addTripToDetailedMonthsDataDictionary(monthsData: { [p: string]: DetailedMonthData }, key: string, date: Date, year: string) {\n    const entryMonth = monthsData[key];\n    if (entryMonth) {\n        monthsData[key].trips = monthsData[key].trips + 1;\n    } else {\n        monthsData[key] = {\n            year: date.getFullYear(),\n            yearString: year,\n            monthName: norwegianMonths[date.getMonth()],\n            trips: 1,\n            monthNumber: date.getMonth() + 1,\n            date: date\n        }\n    }\n}\n\nexport function buildDataStructure(\n    years: { [key: string]: number },\n    months: { [key: string]: number },\n    stations: { [key: string]: number },\n    detailedMonthsData: { [key: string]: DetailedMonthData }) {\n    data.forEach(trip => {\n        const date = new Date(trip._tripStarted)\n        const year = date.getFullYear().toString();\n        const month = norwegianMonths[date.getMonth()] + \" \" + year;\n        const mmyyyy = date.getMonth() + \" \" + year;\n        const startStation = trip._startStation._title;\n        const endStation = trip._endStation ? trip._endStation._title : trip._startStation._title;\n\n        addTripToSimpleDictionary(years, year);\n        addTripToSimpleDictionary(months, month);\n        addTripToSimpleDictionary(stations, startStation);\n        addTripToSimpleDictionary(stations, endStation);\n        addTripToDetailedMonthsDataDictionary(detailedMonthsData, mmyyyy, date, year)\n    })\n}\n\nexport function simpleDictionaryToSortedArray(dict: { [key: string]: number }) {\n    return Object.entries(dict)\n        .sort(([, numberOfTrips1], [, numberOfTrips2]) =>\n            numberOfTrips2 - numberOfTrips1)\n\n}","import './App.css';\nimport data from \"./trips.json\";\nimport logo from \"./svg/bysykkel-logo.svg\";\nimport bike from \"./svg/bike.svg\";\nimport React from 'react';\nimport PieChart from \"./PieChart\";\nimport LineChart from \"./LineChart\";\nimport {DetailedMonthData} from \"./types\";\nimport {buildDataStructure, simpleDictionaryToSortedArray} from \"./utils\";\n\nfunction App() {\n    const numberOfTrips = data.length\n    let months: { [key: string]: number } = {};\n    let stations: { [key: string]: number } = {};\n    let detailedMonthsData: { [key: string]: DetailedMonthData } = {};\n    let years: { [key: string]: number } = {};\n\n    buildDataStructure(years, months, stations, detailedMonthsData);\n\n    const monthsSortedDescendingTrips = simpleDictionaryToSortedArray(months)\n    const stationsSortedDescendingTrips = simpleDictionaryToSortedArray(stations)\n\n    return (\n        <div className=\"container\">\n            <div className=\"header\">\n                <div>\n                    <img className=\"header-logo\" src={logo} alt=\"Header logo\"/>\n                </div>\n                <div className=\"header-text\">\n                    <h1>Statistikk</h1>\n                </div>\n            </div>\n\n            <div className=\"trips-element\">\n                <div className=\"trips-text\">\n                    <h3> Du har syklet totalt</h3>\n                    <h2 className=\"coloured\"> {numberOfTrips} turer</h2>\n                    <PieChart years={years}/>\n                </div>\n\n            </div>\n            <div className=\"popular-month\">\n                <div className=\"popular-month-text\">\n                    <h3> Din mest populære måned var <span\n                        className=\"coloured\"> {monthsSortedDescendingTrips[0][0].toLowerCase()},\n                            </span> med {monthsSortedDescendingTrips[0][1]} turer.</h3>\n                </div>\n                <LineChart years={years} monthsData={detailedMonthsData}/>\n\n            </div>\n            <div className=\"number-of-stations\">\n                <h2 className=\"number-of-stations-heading\"> Du har besøkt {stationsSortedDescendingTrips.length} ulike\n                    stasjoner.</h2>\n                <img className=\"bike-logo\" src={bike} alt=\"Bike\"/>\n            </div>\n            <div className=\"top-5\">\n                <h2>Topp 5 stasjoner</h2>\n                <tbody>\n                <table className=\"styled-table\">\n                    {stationsSortedDescendingTrips.slice(0, 5).map(([month, numberOfTripsPerMonth]) => (\n                        <tr key={month}>\n                            <td className=\"td-month\">{month}</td>\n                            <td>{numberOfTripsPerMonth}</td>\n                        </tr>\n                    ))}\n                </table>\n                </tbody>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}